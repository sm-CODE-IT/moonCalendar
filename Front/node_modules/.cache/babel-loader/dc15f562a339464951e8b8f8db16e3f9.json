{"ast":null,"code":"export default function replaceTextWithMeta(subject, searchText, replaceText) {\n  var text = subject.text,\n      characterMeta = subject.characterMeta;\n  var searchTextLength = searchText.length;\n  var replaceTextLength = replaceText.length;\n  var resultTextParts = []; // Get empty set of same kind as characterMeta.\n\n  var resultCharMeta = characterMeta.slice(0, 0);\n  var lastEndIndex = 0;\n  var index = text.indexOf(searchText);\n\n  while (index !== -1) {\n    resultTextParts.push(text.slice(lastEndIndex, index) + replaceText);\n    resultCharMeta = resultCharMeta.concat(characterMeta.slice(lastEndIndex, index), // Use the metadata of the first char we are replacing.\n    repeatSeq(characterMeta.slice(index, index + 1), replaceTextLength));\n    lastEndIndex = index + searchTextLength;\n    index = text.indexOf(searchText, lastEndIndex);\n  }\n\n  resultTextParts.push(text.slice(lastEndIndex));\n  resultCharMeta = resultCharMeta.concat(characterMeta.slice(lastEndIndex));\n  return {\n    text: resultTextParts.join(''),\n    characterMeta: resultCharMeta\n  };\n}\n\nfunction repeatSeq(seq, count) {\n  var result = seq.slice(0, 0);\n\n  while (count-- > 0) {\n    result = result.concat(seq);\n  }\n\n  return result;\n}","map":{"version":3,"names":["replaceTextWithMeta","subject","searchText","replaceText","text","characterMeta","searchTextLength","length","replaceTextLength","resultTextParts","resultCharMeta","slice","lastEndIndex","index","indexOf","push","concat","repeatSeq","join","seq","count","result"],"sources":["C:/STUDY/moonCalendar/Front/node_modules/draft-js-import-element/esm/lib/replaceTextWithMeta.js"],"sourcesContent":["export default function replaceTextWithMeta(subject, searchText, replaceText) {\n  var text = subject.text,\n      characterMeta = subject.characterMeta;\n  var searchTextLength = searchText.length;\n  var replaceTextLength = replaceText.length;\n  var resultTextParts = []; // Get empty set of same kind as characterMeta.\n\n  var resultCharMeta = characterMeta.slice(0, 0);\n  var lastEndIndex = 0;\n  var index = text.indexOf(searchText);\n\n  while (index !== -1) {\n    resultTextParts.push(text.slice(lastEndIndex, index) + replaceText);\n    resultCharMeta = resultCharMeta.concat(characterMeta.slice(lastEndIndex, index), // Use the metadata of the first char we are replacing.\n    repeatSeq(characterMeta.slice(index, index + 1), replaceTextLength));\n    lastEndIndex = index + searchTextLength;\n    index = text.indexOf(searchText, lastEndIndex);\n  }\n\n  resultTextParts.push(text.slice(lastEndIndex));\n  resultCharMeta = resultCharMeta.concat(characterMeta.slice(lastEndIndex));\n  return {\n    text: resultTextParts.join(''),\n    characterMeta: resultCharMeta\n  };\n}\n\nfunction repeatSeq(seq, count) {\n  var result = seq.slice(0, 0);\n\n  while (count-- > 0) {\n    result = result.concat(seq);\n  }\n\n  return result;\n}"],"mappings":"AAAA,eAAe,SAASA,mBAAT,CAA6BC,OAA7B,EAAsCC,UAAtC,EAAkDC,WAAlD,EAA+D;EAC5E,IAAIC,IAAI,GAAGH,OAAO,CAACG,IAAnB;EAAA,IACIC,aAAa,GAAGJ,OAAO,CAACI,aAD5B;EAEA,IAAIC,gBAAgB,GAAGJ,UAAU,CAACK,MAAlC;EACA,IAAIC,iBAAiB,GAAGL,WAAW,CAACI,MAApC;EACA,IAAIE,eAAe,GAAG,EAAtB,CAL4E,CAKlD;;EAE1B,IAAIC,cAAc,GAAGL,aAAa,CAACM,KAAd,CAAoB,CAApB,EAAuB,CAAvB,CAArB;EACA,IAAIC,YAAY,GAAG,CAAnB;EACA,IAAIC,KAAK,GAAGT,IAAI,CAACU,OAAL,CAAaZ,UAAb,CAAZ;;EAEA,OAAOW,KAAK,KAAK,CAAC,CAAlB,EAAqB;IACnBJ,eAAe,CAACM,IAAhB,CAAqBX,IAAI,CAACO,KAAL,CAAWC,YAAX,EAAyBC,KAAzB,IAAkCV,WAAvD;IACAO,cAAc,GAAGA,cAAc,CAACM,MAAf,CAAsBX,aAAa,CAACM,KAAd,CAAoBC,YAApB,EAAkCC,KAAlC,CAAtB,EAAgE;IACjFI,SAAS,CAACZ,aAAa,CAACM,KAAd,CAAoBE,KAApB,EAA2BA,KAAK,GAAG,CAAnC,CAAD,EAAwCL,iBAAxC,CADQ,CAAjB;IAEAI,YAAY,GAAGC,KAAK,GAAGP,gBAAvB;IACAO,KAAK,GAAGT,IAAI,CAACU,OAAL,CAAaZ,UAAb,EAAyBU,YAAzB,CAAR;EACD;;EAEDH,eAAe,CAACM,IAAhB,CAAqBX,IAAI,CAACO,KAAL,CAAWC,YAAX,CAArB;EACAF,cAAc,GAAGA,cAAc,CAACM,MAAf,CAAsBX,aAAa,CAACM,KAAd,CAAoBC,YAApB,CAAtB,CAAjB;EACA,OAAO;IACLR,IAAI,EAAEK,eAAe,CAACS,IAAhB,CAAqB,EAArB,CADD;IAELb,aAAa,EAAEK;EAFV,CAAP;AAID;;AAED,SAASO,SAAT,CAAmBE,GAAnB,EAAwBC,KAAxB,EAA+B;EAC7B,IAAIC,MAAM,GAAGF,GAAG,CAACR,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAb;;EAEA,OAAOS,KAAK,KAAK,CAAjB,EAAoB;IAClBC,MAAM,GAAGA,MAAM,CAACL,MAAP,CAAcG,GAAd,CAAT;EACD;;EAED,OAAOE,MAAP;AACD"},"metadata":{},"sourceType":"module"}